åä¸€å±Šè“æ¡¥æ¯å¤§èµ›è½¯ä»¶ç±»å†³èµ› java aç»„

![image-20220508174119318](imgs.assets/image-20220508174119318.png)

## è¯•é¢˜ **A:** åˆæ•°ä¸ªæ•°

### ğŸ‘€é—®é¢˜æè¿°

**é—®é¢˜æè¿°**
ä¸€ä¸ªæ•°å¦‚æœé™¤äº† 1 å’Œè‡ªå·±è¿˜æœ‰å…¶ä»–çº¦æ•°ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªåˆæ•°ã€‚

ä¾‹å¦‚ï¼š1, 2, 3 ä¸æ˜¯åˆæ•°ï¼Œ4, 6 æ˜¯åˆæ•°ã€‚è¯·é—®ä» 1 åˆ° 2020 ä¸€å…±æœ‰å¤šå°‘ä¸ªåˆæ•°ã€‚

**ç­”æ¡ˆæäº¤**
è¿™æ˜¯ä¸€é“ç»“æœå¡«ç©ºçš„é¢˜ï¼Œä½ åªéœ€è¦ç®—å‡ºç»“æœåæäº¤å³å¯ã€‚
æœ¬é¢˜çš„ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œåœ¨æäº¤ç­”æ¡ˆæ—¶åªå¡«å†™è¿™ä¸ªæ•´æ•°ï¼Œå¡«å†™å¤šä½™çš„å†…å®¹å°†æ— æ³•å¾—åˆ†ã€‚

### âœï¸æ€è·¯è§£æ

åœ¨1-2020è¿™äº›æ•°ä¸­ï¼Œæ„æˆæœ‰3éƒ¨åˆ†ï¼šè´¨æ•°ã€åˆæ•°ã€æ—¢éè´¨æ•°äº¦éåˆæ•°ï¼Œæ—¢éè´¨æ•°äº¦éåˆæ•°åªæœ‰æ•°å­—"1"ã€‚

### âœ¨å‚è€ƒä»£ç 

```java
// 1:ä¸èƒ½æœ‰packet
// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹
import java.util.Scanner;
 
public class Main { 
    //åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºåˆæ•°
    public static boolean judge(int num){
        for(int i = 2; i <= Math.sqrt(num); i++){
          //æœ‰ä½™æ•°ï¼Œåˆ™è¿”å›true
          if(num%i == 0){
            return true;
          }
        }
        return false;
    }
    
     public static void main(String[] args) {
      int count = 0;
         //1,2,3éƒ½ä¸æ˜¯åˆæ•°ï¼Œæ‰€ä»¥ä»4å¼€å§‹
        for(int i = 4; i <= 2020; i++){
          if(judge(i)){
            count++;
          }
        }
        System.out.println(count);
    }
}
```



## è¯•é¢˜ **B:** å«2å¤©æ•°

### ğŸ‘€é—®é¢˜æè¿°

**é—®é¢˜æè¿°**
å°è“ç‰¹åˆ«å–œæ¬¢ 2ï¼Œä»Šå¹´æ˜¯å…¬å…ƒ 2020 å¹´ï¼Œä»–ç‰¹åˆ«é«˜å…´ï¼Œå› ä¸ºæ¯å¤©æ—¥å†ä¸Šéƒ½å¯ä»¥çœ‹åˆ° 2ã€‚

å¦‚æœæ—¥å†ä¸­åªæ˜¾ç¤ºå¹´æœˆæ—¥ï¼Œè¯·é—®ä»å…¬å…ƒ 1900 å¹´ 1 æœˆ 1 æ—¥åˆ°å…¬å…ƒ 9999 å¹´ 12æœˆ 31 æ—¥ï¼Œä¸€å…±æœ‰å¤šå°‘å¤©æ—¥å†ä¸ŠåŒ…å« 2ã€‚

å³æœ‰å¤šå°‘å¤©ä¸­å¹´æœˆæ—¥çš„æ•°ä½ä¸­åŒ…å«æ•°å­— 2ã€‚

ç­”æ¡ˆæäº¤
è¿™æ˜¯ä¸€é“ç»“æœå¡«ç©ºçš„é¢˜ï¼Œä½ åªéœ€è¦ç®—å‡ºç»“æœåæäº¤å³å¯ã€‚
æœ¬é¢˜çš„ç»“æœä¸ºä¸€ä¸ªæ•´æ•°ï¼Œåœ¨æäº¤ç­”æ¡ˆæ—¶åªå¡«å†™è¿™ä¸ªæ•´æ•°ï¼Œå¡«å†™å¤šä½™çš„å†…å®¹å°†æ— æ³•å¾—åˆ†ã€‚



### âœï¸æ€è·¯è§£æ

1. åŒºåˆ†é—°å¹´å’Œå¹³å¹´

> <font color="red">é—°å¹´çš„åˆ¤æ–­ï¼š</font>
> â‘ æ•´ç™¾å¹´æ•°é™¤ä»¥400ï¼Œæ— ä½™ä¸ºé—°ï¼Œæœ‰ä½™ä¸ºå¹³
> â‘¡éæ•´ç™¾å¹´æ•°é™¤ä»¥4ï¼Œæ— ä½™ä¸ºé—°ï¼Œæœ‰ä½™ä¸ºå¹³

2. ä¾æ¬¡æŒ‰ç…§åˆ¤æ–­å“ªäº›å¹´ä»½ã€æœˆä»½ã€å·æ•°å«æœ‰2

> 1. è‹¥å¹´ä»½ä¸­å«æœ‰2ï¼Œåˆ™ç›´æ¥åŠ ä¸Šè¯¥å¹´æ€»çš„å¤©æ•°ï¼ˆæ³¨æ„å¹³å¹´å’Œé—°å¹´2æœˆå¤©æ•°ä¸åŒï¼‰
> 2. è‹¥å¹´ä»½ä¸­ä¸å«æœ‰2ï¼Œå®é™…åªéœ€åˆ¤æ–­2æœˆå’Œ12æœˆä¸€å…±æœ‰å¤šå°‘å¤©ï¼ˆæ³¨æ„å¹³å¹´å’Œé—°å¹´2æœˆå¤©æ•°ä¸åŒï¼‰ï¼Œå…¶ä¸­12æœˆä¸€å…±æœ‰31å¤©ã€‚
> 3. è‹¥å¹´ä»½ä¸­ä¸å«æœ‰2ï¼Œä¸”æœˆä»½ä¸­ä¸å«æœ‰2ï¼Œå³åˆ¤æ–­1ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€10ã€11è¿™10ä¸ªæœˆä¸­çš„å·æ•°ä¸€å…±æœ‰å¤šå°‘å¤©å«æœ‰2ï¼Œè¿™10ä¸ªæœˆçš„ä¸€å…±å«æœ‰2çš„å¤©æ•°æ˜¯å›ºå®šçš„ï¼Œå³10*12å¤© = 120å¤©ã€‚

### âœ¨å‚è€ƒä»£ç 

```java
import java.util.Scanner;


public class Main {
    //åˆ¤æ–­å¹´ä»½yä¸­æ˜¯å¦å«æœ‰2ï¼Œå¦‚1902ã€2221éƒ½å«æœ‰2
    public static boolean isInclude2(int year){
        while(year!=0){
            if(year%10 == 2){
                return true;
            }
            year /= 10;
        }
        return false;
    }

    //åˆ¤æ–­æŸå¹´æ˜¯å¦ä¸ºé—°å¹´
    public static boolean isLeap(int y){

        //æ•´ç™¾å¹´æ•°é™¤ä»¥400ï¼Œæ— ä½™ä¸ºé—°ï¼Œæœ‰ä½™ä¸ºå¹³
        if((y%100==0) && (y%400==0)){
            return true;
        }
        //éæ•´ç™¾å¹´æ•°é™¤ä»¥4ï¼Œæ— ä½™ä¸ºé—°ï¼Œæœ‰ä½™ä¸ºå¹³
        if((y%100!=0) && (y%4==0)){
            return true;
        }

        return false;
    }

    public static void main(String[] args) {
        int startYear = 1900;   //èµ·å§‹å¹´ä»½
        int endYear = 9999;     //ç»“æŸå¹´ä»½
        int numOneYear = 0;     //è®°å½•æŸå¹´ä¸­å«æœ‰2çš„å¤©æ•°
        int totals = 0;         //è®°å½•æ€»çš„å«æœ‰2çš„å¤©æ•°
        int numTenMonths = 120; //1ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€10ã€11è¿™10ä¸ªæœˆå«æœ‰2çš„å¤©æ•°
        int num12Month = 31;    //12æœˆå«æœ‰çš„å¤©æ•°

        for(int y=startYear; y<=endYear; y++){

            //åˆ¤æ–­è¯¥å¹´ä»½æ˜¯å¦å«æœ‰2
            if(isInclude2(y)) {

                //åˆ¤æ–­æ˜¯é—°å¹´è¿˜æ˜¯å¹³å¹´
                if(isLeap(y)) numOneYear = 366;
                else numOneYear = 365;
            }else {

                if(isLeap(y)){

                    //æ˜¯é—°å¹´åˆ™2æœˆä»½ä¸º29å¤©
                    numOneYear = num12Month + numTenMonths + 29;
                }else{

                    //æ˜¯å¹³å¹´åˆ™2æœˆä»½ä¸º28å¤©
                    numOneYear = num12Month + numTenMonths + 28;
                }
            }
            totals += numOneYear;
        }
        System.out.println(totals);
    }
}
```

## è¯•é¢˜Cï¼šæœ¬è´¨ä¸Šå‡åºåˆ—

### ğŸ‘€é—®é¢˜æè¿°

é—®é¢˜æè¿°
å°è“ç‰¹åˆ«å–œæ¬¢å•è°ƒé€’å¢çš„äº‹ç‰©ã€‚
åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœå–å‡ºè‹¥å¹²ä¸ªå­—ç¬¦ï¼Œå°†è¿™äº›å­—ç¬¦æŒ‰ç…§åœ¨å­—ç¬¦ä¸²ä¸­çš„é¡ºåºæ’åˆ—åæ˜¯å•è°ƒé€’å¢çš„ï¼Œåˆ™æˆä¸ºè¿™ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªå•è°ƒé€’å¢å­åºåˆ—ã€‚
ä¾‹å¦‚ï¼Œåœ¨å­—ç¬¦ä¸² lanqiao ä¸­ï¼Œå¦‚æœå–å‡ºå­—ç¬¦ n å’Œ qï¼Œåˆ™ nq ç»„æˆä¸€ä¸ªå•è°ƒé€’å¢å­åºåˆ—ã€‚ç±»ä¼¼çš„å•è°ƒé€’å¢å­åºåˆ—è¿˜æœ‰ lnqã€iã€ano ç­‰ç­‰ã€‚
å°è“å‘ç°ï¼Œæœ‰äº›å­åºåˆ—è™½ç„¶ä½ç½®ä¸åŒï¼Œä½†æ˜¯å­—ç¬¦åºåˆ—æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚å–ç¬¬äºŒä¸ªå­—ç¬¦å’Œæœ€åä¸€ä¸ªå­—ç¬¦å¯ä»¥å–åˆ° aoï¼Œå–æœ€åä¸¤ä¸ªå­—ç¬¦ä¹Ÿå¯ä»¥å–åˆ° aoã€‚å°è“è®¤ä¸ºä»–ä»¬å¹¶æ²¡æœ‰æœ¬è´¨ä¸åŒã€‚
å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°è“æƒ³çŸ¥é“ï¼Œæœ¬è´¨ä¸åŒçš„é€’å¢å­åºåˆ—æœ‰å¤šå°‘ä¸ªï¼Ÿ
ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² lanqiaoï¼Œæœ¬è´¨ä¸åŒçš„é€’å¢å­åºåˆ—æœ‰ 21 ä¸ªã€‚å®ƒä»¬åˆ†åˆ«
æ˜¯ lã€aã€nã€qã€iã€oã€lnã€anã€lqã€aqã€nqã€aiã€loã€aoã€noã€ioã€lnqã€
anqã€lnoã€anoã€aioã€‚
è¯·é—®å¯¹äºä»¥ä¸‹å­—ç¬¦ä¸²

```java
tocyjkdzcieoiodfpbgcncsrjbhmugdnojjddhllnofawllbhfiadgdcdjstemphmnjihecoapdjjrprrqnhgccevdarufmliqijgihhfgdcmxvicfauachlifhafpdccfseflcdgjncadfclvfmadvrnaaahahndsikzssoywakgnfjjaihtniptwoulxbaeqkqhfwl
```


æœ¬è´¨ä¸åŒçš„é€’å¢å­åºåˆ—æœ‰å¤šå°‘ä¸ªï¼Ÿ

### âœï¸æ€è·¯è§£æ

è®¾strä¸ºé¢˜ç›®ä¸­çš„ç›®æ ‡å­—ç¬¦ä¸²ï¼Œå®šä¹‰dp[i]ä¸ºä»¥str[i]ä¸ºç»“å°¾æ—¶çš„é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚å› ä¸º`j<i`ï¼Œæ‰€ä»¥éå†j=0~i-1ï¼Œæœ‰å¦‚ä¸‹è®¨è®ºï¼š

1. str[j] < str[i]ï¼Œæ­¤æ—¶dp[i]=dp[i]+dp[j]
2. str[j] == str[i]ï¼Œæ­¤æ—¶dp[i]=dp[i]-dp[j]
3. str[j] > str[i]ï¼Œæ­¤æ—¶æ˜¯é™åºï¼Œä¸è€ƒè™‘

ä¸ºäº†è§‚å¯Ÿæ–¹ä¾¿ï¼Œå°±ä»¥æ•°å­—2ã€1ã€3ã€8ã€5ã€7ã€4ã€5ä¸ºä¾‹ï¼š

| str  | dp[i] | dpçš„å€¼ | é€’å¢å­åºåˆ—                                               |
| :--- | :---- | :----- | :------------------------------------------------------- |
| 2    | dp[0] | 1      | 2                                                        |
| 1    | dp[1] | 1      | 1                                                        |
| 3    | dp[2] | 3      | 3, 23, 13                                                |
| 8    | dp[3] | 6      | 8, 28, 18, 38, 238, 138                                  |
| `5`  | dp[4] | 6      | `5, 25, 15, 35, 235, 135`                                |
| 7    | dp[5] | 12     | 7, 27, 17, 37, 237, 137, 57, 257, 157, 357, 2357, 1357   |
| 4    | dp[6] | 6      | 4, 24, 14, 34, 234, 134                                  |
| `5`  | dp[7] | 6      | `5, 25, 15, 35, 235, 135,` 45, 245, 145, 345, 2345, 1345 |

ç”±ä¸Šé¢çš„è¡¨æ ¼å¯çŸ¥ï¼Œå½“str[j]=str[i]æ—¶ï¼Œä¼šå‡ºç°é‡å¤çš„å­åºåˆ—ï¼Œæ­¤æ—¶å°±è¦å‡å»è¿™ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯`1. str[j] < str[i]ï¼Œæ­¤æ—¶dp[i]=dp[i]+dp[j]`çš„è®¨è®ºã€‚

### âœ¨å‚è€ƒä»£ç 

```java
import java.util.Scanner;


public class Main {

    public static void main(String[] args) {
        String str = "tocyjkdzcieoiodfpbgcncsrjbhmugdnojjddhllnofawllbhfiadgdcdjstemphmnjihecoapdjjrprrqnhgccevdarufmliqijgihhfgdcmxvicfauachlifhafpdccfseflcdgjncadfclvfmadvrnaaahahndsikzssoywakgnfjjaihtniptwoulxbaeqkqhfwl";
        int result = 0;
        int[] dp = new int[str.length()];
        for(int i=0; i<str.length(); i++)
            dp[i]=1;

        for(int i=0; i<str.length(); i++){
            for(int j=0; j<i; j++){
                if(str.charAt(j) < str.charAt(i)){
                    dp[i] += dp[j];
                }
                else if(str.charAt(j) == str.charAt(i)){
                    dp[i] -= dp[j];
                }
            }
        }


        for(int i=0; i<str.length(); i++){
            result += dp[i];
        }
        System.out.println(result);
    }
}
```

## è¯•é¢˜Dï¼šå’«å°ºå¤©æ¶¯

### ğŸ‘€é—®é¢˜æè¿°

çš®äºšè¯ºæ›²çº¿æ˜¯ä¸€æ¡å¹³é¢å†…çš„æ›²çº¿ï¼Œä¸‹å›¾ç»™å‡ºäº†çš®äºšè¯ºæ›²çº¿çš„ 1 é˜¶æƒ…å½¢ã€‚ã€‚ã€‚ã€‚ã€‚

![image-20220508174958394](imgs.assets/image-20220508174958394.png)

![image-20220508175013681](imgs.assets/image-20220508175013681.png)

![image-20220508175433003](imgs.assets/image-20220508175433003.png)

### âœï¸æ€è·¯è§£æ

é¦–å…ˆï¼Œå¦‚æœé€šè¿‡æš´åŠ›æ‰“è¡¨ï¼Œç„¶åå°†æ‰€æœ‰ç›¸é‚»ç‚¹å·®å€¼çš„å’Œç´¯åŠ èµ·æ¥ï¼Œå½“ç„¶æ˜¯ä¸ç°å®çš„ã€‚æƒ³æƒ³ç©ºé—´å¤æ‚åº¦å’Œæ—¶é—´å¤æ‚åº¦å°±æ˜ç™½äº†ã€‚è¿™é‡Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆå®¹æ˜“å¾—åˆ°ç©ºé—´å¤æ‚åº¦æ˜¯ $O((3^n)^2)$ ï¼Œä¼°ç®—ä¸€ä¸‹å½“$n=14$æ—¶ï¼Œå†…å­˜è‡³å°‘éœ€è¦ 170445GBï¼Œæ‰€ä»¥ç”¨æš´åŠ›çš„æ–¹å¼æ˜¯ä¸ç°å®çš„ã€‚

è¿™é‡Œæˆ‘ä»¬å°†æ¯ä¸€ä¸ªné˜¶çš„å›¾éƒ½çœ‹æˆä¸€é˜¶çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠæ¯ä¸ªné˜¶çš„å›¾çœ‹æˆ9ä¸ªn-1é˜¶çš„å›¾ï¼Œå°±è½¬åŒ–æˆäº†ä¸€é˜¶è·ŸäºŒé˜¶çš„å…³ç³»ï¼Œæ ¹æ®äºŒé˜¶çš„å’Œä¸€é˜¶çš„xï¼Œyä¹‹é—´çš„å…³ç³»æ¥é€å±‚é™é˜¶ã€‚

è™½ç„¶ n=14æˆ‘ä»¬åšä¸åˆ°ï¼Œä½†æ˜¯ n æ¯”è¾ƒå°çš„æ—¶å€™è¿˜æ˜¯èƒ½å¤Ÿå¤„ç†çš„å˜›ã€‚æ¯”å¦‚ï¼šn=1ï¼Œ n=2è¿™æ ·çš„ã€‚å…ˆå†™ä¸€ä¸ªæ¨¡æ‹Ÿå‡ºæ¥ï¼Œå†æ‰¾æ‰¾è§„å¾‹çœ‹çœ‹ã€‚

è¯·å…ˆçœ‹ä¸‹é¢ä¸¤å¼ å›¾ï¼Œåˆ†åˆ«ä¸º 1 é˜¶çš®äºšè¯ºæ›²çº¿å’Œ 2 é˜¶çš®äºšè¯ºæ›²çº¿å¤§è‡´èµ°å‘ç¤ºæ„å›¾ã€‚

![MnTOZP18TPSHNIm+aFmeRg_thumb_6b1](imgs.assets/e2568c2d390c3517808ca11a71ff942d-057a40.jpg)

![yuQ3JrzlSnSezgL+XhF%Ag_thumb_6ae](imgs.assets/96a33f5d08d8b33cc722ed9696810538-411135.jpg)

æˆ‘ä»¬å‘ç°åœ¨æ‰€æœ‰çš„çš®äºšè¯ºæ›²çº¿ä¸­ï¼Œå¤§è‡´èµ°å‘åªæœ‰å››ä¸ªæ–¹å‘ï¼šâ†—ï¸ã€â†–ï¸ã€â†˜ï¸ã€â†™ï¸ï¼Œä¾æ¬¡ç¼–å·ä¸º1ï¼Œ2ï¼Œ3ï¼Œ4.

1. â†—ï¸
2. â†–ï¸
3. â†˜ï¸
4. â†™ï¸

è€Œçš®äºšè¯ºæ›²çº¿å‡é˜¶ï¼ˆæ¯”å¦‚1é˜¶å˜åˆ°2é˜¶ï¼‰è¿‡ç¨‹ï¼Œå°±æ˜¯å¯¹åŸºé˜¶çš®äºšè¯ºæ›²çº¿è¿›è¡Œæ‰©å±•æ“ä½œã€‚æ¯”å¦‚æˆ‘ä»¬çœ‹ 11 é˜¶å‡é˜¶ä¸º 22 é˜¶å°±æ˜¯å¯¹â†—ï¸èµ°å‘æ‰©å±•ä¸º 9 ä¸ªèµ°å‘â†—ï¸â†–ï¸â†—ï¸ â†˜ï¸â†™ï¸â†˜ï¸ â†—ï¸â†–ï¸â†—ï¸. åˆ°è¿™é‡Œå¦‚æœéƒ½èƒ½çœ‹æ˜ç™½ï¼Œå…¶ä»–å¯¹è¿™ä¸ªé¢˜ç›®è§£é¢˜å°±å¾ˆæœ‰å¸®åŠ©äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯å°†å››ä¸ªæ–¹å‘æ‰©å±•å‡ºæ¥çš„æ–¹å‘åˆ—è¡¨æå‡ºæ¥ï¼Œè¿™ä¸ªå¯ä»¥ä»äºŒé˜¶æ‰©å±•åˆ°ä¸‰é˜¶çš„çš®äºšè¯ºæ›²çº¿ä¸­å¾—åˆ°ã€‚

1. â†—ï¸ æ‰©å±•ä¸º â†—ï¸â†–ï¸â†—ï¸ â†˜ï¸â†™ï¸â†˜ï¸ â†—ï¸â†–ï¸â†—ï¸ å¯¹åº”ç¼–å·ä¸º `121 343 121`
2. â†–ï¸ æ‰©å±•ä¸º â†–ï¸â†—ï¸â†–ï¸ â†™ï¸â†˜ï¸â†™ï¸ â†–ï¸â†—ï¸â†–ï¸ å¯¹åº”ç¼–å·ä¸º `212 434 212`
3. â†˜ï¸ æ‰©å±•ä¸º â†˜ï¸â†™ï¸â†˜ï¸ â†—ï¸â†–ï¸â†—ï¸ â†˜ï¸â†™ï¸â†˜ï¸ å¯¹åº”ç¼–å·ä¸º `343 121 343`
4. â†™ï¸ æ‰©å±•ä¸º â†™ï¸â†˜ï¸â†™ï¸ â†–ï¸â†—ï¸â†–ï¸ â†™ï¸â†˜ï¸â†™ï¸ å¯¹åº”ç¼–å·ä¸º `434 212 434`

åˆ°è¿™é‡Œæ¥ä¸‹æ¥å°±å˜å¾—ç®€å•äº†ï¼Œå½“ç„¶è¿˜æœ‰ä¸€ç‚¹éœ€è¦å¤„ç†ï¼Œé‚£å°±æ˜¯å„ä¸ªå¤§è‡´è¡Œèµ°æ–¹å‘æ€ä¹ˆæ¥ä¸Šçš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šå…ˆâ†—ï¸èµ°ï¼Œæ¥ä¸‹æ¥éœ€è¦â†–ï¸èµ°ï¼Œä½†æ˜¯æˆ‘åº”è¯¥æ€æ ·è®©â†—ï¸ç»“æŸåçš„é‚£ä¸ªä½ç½®æ¥ä¸Šâ†–ï¸å¼€å§‹çš„ä½ç½®å‘¢ï¼Ÿ

é‚£ä¹ˆæˆ‘ä»¬å¯¹äºæ‰€æœ‰å¯èƒ½çš„ç»„åˆè¿›è¡Œçš„è¡¨ç¤ºï¼ˆå½“ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–¹å‘ç»„åˆéƒ½åœ¨è¿™ä¸ªæ–¹å‘ä¸­çš„ï¼Œæ¯”å¦‚â†—ï¸æ¥ä¸‹æ¥å°±ä¸å¯èƒ½æ˜¯â†™ï¸ï¼‰ï¼š

![J41Ora9ESyuBnG7xh9tvdg_thumb_6b7](imgs.assets/840fb3fcad1124b4846e5eb846c95113-fdd6e7.jpg)

é‚£å¯¹äºå¤§è‡´æ–¹å‘ä¸å¤§è‡´æ–¹å‘ä¹‹é—´çš„è¿æ¥å…³ç³»æˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†ã€‚

ä¸‹æ¥å°±æ˜¯æŠŠå¤§è‡´æ–¹å‘ï¼ˆâ†—ï¸ã€â†–ï¸ã€â†˜ï¸ã€â†™ï¸ï¼‰è¡¨ç¤ºæˆè¯¦ç»†çš„è¡Œèµ°æ–¹å‘ï¼ˆâ¬†ï¸ã€â¬‡ï¸ã€â¬…ï¸ã€â¡ï¸ï¼‰å³å¯ã€‚

**çš®äºšè¯ºæ›²çº¿å®ç°**

`Dir.java` è¯¦ç»†è¡Œèµ°æ–¹å‘ç±»ï¼Œåé¢éœ€è¦ç”¨åˆ°ã€‚

```java
public class Dir {
    public int ic;
    public int jc;

    public Dir(int _ic_, int _jc_) {
        this.ic = _ic_;
        this.jc = _jc_;
    }
}
```

`DirUtil.java` æ–¹å‘å¤„ç†å·¥å…·ç±»ï¼Œ**æ ¸å¿ƒéƒ¨åˆ†**ï¼Œç”¨äºå‡é˜¶æ‰©å±•æ“ä½œï¼Œä»¥åŠå°†å¤§è‡´è¡Œèµ°æ–¹å‘è¡¨ç¤ºæˆè¯¦ç»†çš„è¡Œèµ°æ–¹å‘ã€‚

```java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class DirUtil {
    private static final Dir UP = new Dir(1, 0);
    private static final Dir DOWN = new Dir(-1, 0);
    private static final Dir RIGHT = new Dir(0, 1);
    private static final Dir LEFT = new Dir(0, -1);


    public static Dir[] dir1 = new Dir[]{
            UP, UP, RIGHT, DOWN, DOWN, RIGHT, UP, UP
    };


    public static Dir[] dir2 = new Dir[]{
            UP, UP, LEFT, DOWN, DOWN, LEFT, UP, UP
    };


    public static Dir[] dir3 = new Dir[]{
            DOWN, DOWN, RIGHT, UP, UP, RIGHT, DOWN, DOWN
    };


    public static Dir[] dir4 = new Dir[]{
            DOWN, DOWN, LEFT, UP, UP, LEFT, DOWN, DOWN
    };

    public static Dir[] getDir(DirTester.Point s, DirTester.Point t) {
        if (s.x < t.x && s.y < t.y) return dir1;
        if (s.x < t.x && s.y > t.y) return dir2;
        if (s.x > t.x && s.y < t.y) return dir3;
        return dir4;
    }

    public static Dir[] getDirById(int __id__) {
        switch (__id__) {
            case 1:
                return dir1;
            case 2:
                return dir2;
            case 3:
                return dir3;
            case 4:
                return dir4;
        }
        return null;
    }

    // å‡é˜¶æ‰©å±•æ“ä½œ
    public static List<Integer> expandDirGroup(List<Integer> list) {
        List<Integer> expandedList = new ArrayList<>();

        for (int item : list) {
            switch (item) {
                case 1:
                    expandedList.addAll(Arrays.asList(1, 2, 1, 3, 4, 3, 1, 2, 1));
                    break;
                case 2:
                    expandedList.addAll(Arrays.asList(2, 1, 2, 4, 3, 4, 2, 1, 2));
                    break;
                case 3:
                    expandedList.addAll(Arrays.asList(3, 4, 3, 1, 2, 1, 3, 4, 3));
                    break;
                case 4:
                    expandedList.addAll(Arrays.asList(4, 3, 4, 2, 1, 2, 4, 3, 4));
                    break;
            }
        }

        return expandedList;
    }

    // å°†å¤§è‡´è¡Œèµ°æ–¹å‘å±•å¼€ä¸ºå®Œæ•´çš„è¡Œèµ°æ–¹å‘
    public static List<Dir> expandAsStepList(List<Integer> dirGroupList) {
        List<Dir> dirs = new ArrayList<>();

        int prevDirId = 0;

        for (int dirGroupId : dirGroupList) {
            Dir[] dirsTmp = getDirById(dirGroupId);
            switch (prevDirId * 10 + dirGroupId) {
                case 12:
                case 21:
                    dirs.add(UP);
                    break;
                case 13:
                case 31:
                    dirs.add(RIGHT);
                    break;
                case 24:
                case 42:
                    dirs.add(LEFT);
                    break;
                case 34:
                case 43:
                    dirs.add(DOWN);
                    break;
            }
            assert dirsTmp != null;
            dirs.addAll(Arrays.asList(dirsTmp));
            prevDirId = dirGroupId;
        }

        return dirs;
    }
}
```

`HilbertCurveTester.java` åˆ™æ˜¯å¯¹æ›²çº¿ç»“æœè¿›è¡Œæµ‹è¯•äº†ã€‚

```java
import java.util.*;

public class HilbertCurveTester {

    static class Point {
        public int x, y;

        public Point() {
        }

        public Point(int x, int y) {
            this.x = x;
            this.y = y;
        }
    }


    public static int[][] genMap(int level) {
        if (level < 1) {
            return null;
        }

        int mapSize = pow(3, level);
        int[][] a = new int[mapSize][mapSize];


        List<Integer> dirGroupList = new ArrayList<>();
        dirGroupList.add(1);
        for (int i = 2; i <= level; i++) {
            dirGroupList = DirUtil.expandDirGroup(dirGroupList);
        }

        List<Dir> dirList = DirUtil.expandAsStepList(dirGroupList);

        int x = 0;
        int y = 0;

        int val = 1;
        a[x][y] = val++;

        for (Dir dir : dirList) {
            x += dir.ic;
            y += dir.jc;
            a[x][y] = val++;
        }

        return a;
    }

    public static int pow(int a, int n) {
        int ans = 1;
        for (int i = 0; i < n; i++) {
            ans *= a;
        }
        return ans;
    }

    public static void display(int[][] a) {
        for (int i = a.length - 1; i >= 0; i--) {
            for (int j = 0; j < a[i].length; j++) {
                System.out.printf("%2d ", a[i][j]);
            }
            System.out.println();
        }
    }

    public static void main(String[] args) {
        System.out.print("[n] > ");
        Scanner in = new Scanner(System.in);
        int n = in.nextInt();
        int[][] a = genMap(n);
        int sum = 0;

        assert a != null;

        display(a);
    }
}
```

è¾“å‡ºç»“æœ:

```java
[n] > 1
 3  4  9 
 2  5  8 
 1  6  7 
    
[n] > 2
21 22 27 28 33 34 75 76 81 
20 23 26 29 32 35 74 77 80 
19 24 25 30 31 36 73 78 79 
18 13 12 43 42 37 72 67 66 
17 14 11 44 41 38 71 68 65 
16 15 10 45 40 39 70 69 64 
 3  4  9 46 51 52 57 58 63 
 2  5  8 47 50 53 56 59 62 
 1  6  7 48 49 54 55 60 61 
```

æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥å¯¹ç”Ÿæˆçš„çš®äºšè¯ºæ›²çº¿è¿›è¡Œæ‰¾è§„å¾‹äº†ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰è·ç¦»éƒ½æ‰“äº†å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ª (è·ç¦»ï¼Œä¸ªæ•°)(è·ç¦»ï¼Œä¸ªæ•°) è¡¨ç¤ºå½¢å¼ã€‚æ¯”å¦‚ï¼š

```java
[n] > 1
(1, 8)
(5, 2)
(3, 2)
```

ä¸ç»™çš„æ ·ä¾‹æ˜¯ä¸€æ ·çš„ 1Ã—8+5Ã—2+3Ã—2=24

```java
[n] > 2
(1, 80)
(3, 20)
(5, 20)
(11, 6)
(13, 6)
(31, 2)
(33, 2)
(35, 2)
(37, 2)
(39, 2)
(41, 2)
```

è¿™é‡Œä¸ç»™çš„æ ·ä¾‹è®¡ç®—ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

æˆ‘å‘ç°æ¥ä¸‹å»æ‰“è¡¨å°±æ›´é•¿äº†ï¼Œè§„å¾‹ä¸å¥½æ‰¾äº†ã€‚äºæ˜¯æˆ‘çªå‘å¥‡æƒ³ï¼Œæˆ‘æƒ³ç€ç›´æ¥æŠŠåŒæ ·ä¸ªæ•°çš„æ•°å€¼éƒ½ç»™åŠ èµ·æ¥çœ‹çœ‹ã€‚

äºæ˜¯å°±æœ‰äº†ä»¥ä¸‹å…³äºä¸åŒ nn çš„è®¡ç®—å¼å­ï¼š

```nn
1 (24)        => 1*8      + 8*2
2 (816)       => 1*80     + 8*20     + 24*6     + 216*2
3 (23496)     => 1*728    + 8*182    + 24*60    + 216*20    + 648*6    + 5832*2
4 (647520)    => 1*6560   + 8*1640   + 24*546   + 216*182   + 648*60   + 5832*20   + 17496*6   + 157464*2
5 (17601144)  => 1*59048  + 8*14762  + 24*4920  + 216*1640  + 648*546  + 5832*182  + 17496*60  + 157464*20  + 472392*6  + 4251528*2
6 (476293776) => 1*531440 + 8*132860 + 24*44286 + 216*14762 + 648*4920 + 5832*1640 + 17496*546 + 157464*182 + 472392*60 + 4251528*20  + 12754584*6 + 114791256*2
```

æ¥ä¸‹æ¥å°±æ˜¯å¿«ä¹çš„æ‰¾è§„å¾‹æ—¶é—´äº†ã€‚

æˆ‘ä»¬å°†ä¹˜æ³•å·¦å³ç»™æ‹†åˆ†å‡ºæ¥ï¼Œåˆ†æˆä¸¤ä¸ªåˆ—è¡¨ `list1` å’Œ `list2`

```java
list1
1 (24)        => 1 8
2 (816)       => 1 8 24 216
3 (23496)     => 1 8 24 216 648 5832
4 (647520)    => 1 8 24 216 648 5832 17496 157464
5 (17601144)  => 1 8 24 216 648 5832 17496 157464 472392 4251528
6 (476293776) => 1 8 24 216 648 5832 17496 157464 472392 4251528 12754584 114791256
list2
1 (24)        => 8      2
2 (816)       => 80     20     6     2
3 (23496)     => 728    182    60    20    6    2
4 (647520)    => 6560   1640   546   182   60   20   6   2
5 (17601144)  => 59048  14762  4920  1640  546  182  60  20  6  2
6 (476293776) => 531440 132860 44286 14762 4920 1640 546 182 60 20 6 2
```

è‡³æ­¤ï¼Œè§„å¾‹å°±å˜å¾—å¾ˆå®¹æ˜“æ‰¾äº†ã€‚

è¿™é‡Œå°±ä¸å»è¿‡å¤šèµ˜è¿°äº†ï¼Œè§ä¸‹é¢çš„ä»£ç å§ã€‚

### å‚è€ƒä»£ç 

```java
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Main {

    public static long pow(long a, int n) {
        long ans = 1;
        for (int i = 0; i < n; i++) {
            ans *= a;
        }
        return ans;
    }


    public static List<Long> genList1(int n) {
        if (n < 1) {
            return new ArrayList<>();
        }

        if (n == 1) {
            List<Long> result = new ArrayList<>();
            result.add(1L);
            result.add(8L);
            return result;
        }

        List<Long> prev = genList1(n - 1);
        List<Long> result = new ArrayList<>(prev);

        result.add(result.get(result.size() - 1) * 3);
        result.add(result.get(result.size() - 1) * 9);

        return result;
    }

    public static List<Long> genList2(int n) {
        if (n < 1) {
            return new ArrayList<>();
        }

        if (n == 1) {
            List<Long> result = new ArrayList<>();
            result.add(8L);
            result.add(2L);
            return result;
        }

        List<Long> prev = genList2(n - 1);
        List<Long> result = new ArrayList<>();

        result.add(pow(9, n) - 1);
        result.add(result.get(result.size()- 1) / 4L);
        result.add(prev.get(1) * 3);
        for (int i = 1; i < prev.size(); i++) {
            result.add(prev.get(i));
        }

        return result;
    }

    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        int n = in.nextInt();
        List<Long> list1 = genList1(n);
        List<Long> list2 = genList2(n);

        long ans = 0;
        for (int i = 0; i < n * 2; i++) {
            ans += list1.get(i) * list2.get(i);
        }

        System.out.println(ans);

    }
}
```

## è¯•é¢˜Eï¼šç©å…·è›‡

### ğŸ‘€é—®é¢˜æè¿°

å°è“æœ‰ä¸€æ¡ç©å…·è›‡ï¼Œä¸€å…±æœ‰ 16 èŠ‚ï¼Œä¸Šé¢æ ‡ç€æ•°å­— 1 è‡³ 16ã€‚æ¯ä¸€èŠ‚éƒ½æ˜¯ä¸€
ä¸ªæ­£æ–¹å½¢çš„å½¢çŠ¶ã€‚ç›¸é‚»çš„ä¸¤èŠ‚å¯ä»¥æˆç›´çº¿æˆ–è€…æˆ 90 åº¦è§’ã€‚
å°è“è¿˜æœ‰ä¸€ä¸ª 4 Ã— 4 çš„æ–¹æ ¼ç›’å­ï¼Œç”¨äºå­˜æ”¾ç©å…·è›‡ï¼Œç›’å­çš„æ–¹æ ¼ä¸Šä¾æ¬¡æ ‡ç€
å­—æ¯ A åˆ° P å…± 16 ä¸ªå­—æ¯ã€‚
å°è“å¯ä»¥æŠ˜å è‡ªå·±çš„ç©å…·è›‡æ”¾åˆ°ç›’å­é‡Œé¢ã€‚ä»–å‘ç°ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ¡ˆå¯ä»¥å°†
ç©å…·è›‡æ”¾è¿›å»ã€‚
ä¸‹å›¾ç»™å‡ºäº†ä¸¤ç§æ–¹æ¡ˆï¼š

![image-20220508212407579](imgs.assets/image-20220508212407579.png)

è¯·å¸®å°è“è®¡ç®—ä¸€ä¸‹ï¼Œæ€»å…±æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ¡ˆã€‚å¦‚æœä¸¤ä¸ªæ–¹æ¡ˆä¸­ï¼Œå­˜åœ¨ç©
å…·è›‡çš„æŸä¸€èŠ‚æ”¾åœ¨äº†ç›’å­çš„ä¸åŒæ ¼å­é‡Œï¼Œåˆ™è®¤ä¸ºæ˜¯ä¸åŒçš„æ–¹æ¡ˆã€‚

### âœï¸æ€è·¯è§£æ

1ã€ç©å…·è›‡é•¿åº¦16ï¼Œå°±å‡è®¾æ˜¯1~16ï¼Œé‚£1æ”¾åœ¨ä¸åŒçš„æ ¼å­é‡Œé¢å°±æ˜¯ä¸åŒçš„æƒ…å†µï¼Œæ‰€ä»¥è¦æš´åŠ›æšä¸¾èµ·å§‹ç‚¹1åœ¨16ä¸ªæ ¼å­é‡Œé¢çš„æƒ…å†µ

2ã€åœ¨dfsæ·±åº¦æœç´¢é‡Œé¢ï¼Œæˆ‘ä»¬å…ˆåˆ—ä¸¾ä¸å­˜åœ¨çš„æƒ…å†µ if(r<0 || c<0 || r>3 || c>3)  ($a[r][c]==1$) //ä½ç½®å·²ç»è¢«å 

3ã€(number>=15) å½“ç©å…·è›‡æ”¾æ»¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¿”å›1ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³çš„æƒ…å†µçš„ä¸€ç§æ–¹æ³•ã€‚

4ã€æ¯ä¸€ä¸ªä½ç½®æœ‰ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æ”¾ç½®è›‡sum1= **dfs(r-1,c,a,number+1)** //ä¸Š+**dfs(r+1,c,a,number+1)** //ä¸‹+**dfs(r,c-1,a,number+1)** //å·¦+**dfs(r,c+1,a,number+1)**; //å³

5ã€$a[r][c]=0$; //æˆ‘ä»¬å°è¯•èµ°è¿™æ¡è·¯å°±æŠŠTAç½®ä¸º1ï¼Œæˆ‘ä»¬å°è¯•èµ°å…¶ä»–è·¯çš„æ—¶å€™ï¼Œå°±è¦æŠŠï¼Œåˆšåˆšç½®ä¸º1çš„ï¼Œé‡æ–°ç½®ä¸º0

### âœ¨å‚è€ƒä»£ç 

```java
import java.util.Scanner; 
public class DFS1 {
	static int sum=0;    //ç»“æœï¼šsumç§æ–¹æ³•
	static int number=0; //æ­¥æ•°
	static int a[][]=new int[4][4];  //4*4çš„äºŒç»´æ•°ç»„
	static int dfs(int r,int c,int a[][],int number) { //rè¡Œcåˆ—æ•°ç»„a
		if(r<0 || c<0 || r>3 || c>3)
			return 0;
		if(a[r][c]==1)    //ä½ç½®å·²ç»è¢«å 
			return 0;
		if(number>=15)    //æ”¾æ»¡ç©å…·è›‡
			return 1;
		a[r][c]=1;        //=1å°±æ˜¯è¢«å 
		int sum1=0;       //æ¯ä¸€ä¸ªä½ç½®æœ‰å¤šå°‘ç§å¯èƒ½æ€§
		sum1= dfs(r-1,c,a,number+1)  //ä¸Š
		+dfs(r+1,c,a,number+1)  //ä¸‹
		+dfs(r,c-1,a,number+1)  //å·¦
		+dfs(r,c+1,a,number+1);  //å³
		a[r][c]=0;        //ç½®å›0
		return sum1;
	}
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//æš´åŠ›æšä¸¾äºŒç»´æ•°ç»„æ‰€æœ‰çš„ä½ç½®
		for (int i = 0; i <= 3; i++) {
			for (int j = 0; j <= 3; j++) {
				sum+=dfs(i,j,a,0);
			}
		}	
		System.out.print(sum);
	}
}

```

## è¯•é¢˜Fï¼šæ¸¸å›­å®‰æ’

### ğŸ‘€é—®é¢˜æè¿°

L æ˜Ÿçƒæ¸¸ä¹å›­éå¸¸æœ‰è¶£ï¼Œå¸å¼•ç€å„ä¸ªæ˜Ÿçƒçš„æ¸¸å®¢å‰æ¥æ¸¸ç©ã€‚ã€‚ã€‚

![image-20220508175050434](imgs.assets/image-20220508175050434.png)

![image-20220508175409668](imgs.assets/image-20220508175409668.png)

### âœï¸æ€è·¯è§£æ

äºŒåˆ†æ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—æ¿å­é¢˜,æˆ‘ä»¬å¯ä»¥å‘ç°äºŒåˆ†æ±‚å¾—çš„æœ€é•¿ä¸Šå‡é˜Ÿåˆ—ä¸­,ä¿å­˜çš„å°±æ˜¯å½“å‰é•¿åº¦æœ€å°çš„æ•°å­—,å› æ­¤æˆ‘ä»¬åªéœ€è¦æ¯è¦†ç›–ä¸€ä¸ªå­˜å‚¨å®ƒä»¬å‰é¢ä¸€ä¸ª,æœ€åé€’å½’è¾“å‡ºã€‚

### âœ¨å‚è€ƒä»£ç 

```java
import java.util.Scanner;


public class Main {

    public static int N = 1000010;
    public static String[] A = new String[N];
    public static String s = new String();
    public static String ans = new String();
    public static int [] q = new int[N];
    public static int [] pre = new int[N];
    public static int cnt;

    public static void dfs(int u)
    {
        if(u==0){
            return;
        }
        dfs(pre[u]);
        ans+=A[u];
    }

    public static void init()
    {
        int len = s.length();
        for(int i=0,j=0;i<len;i++)
        {
            if(s.charAt(i)>='A'&&s.charAt(i)<='Z')
            {
                j = i;
                while(j+1<len&&s.charAt(j+1)>='a'&&s.charAt(j+1)<='z'){
                    j++;
                }
                if(j-i+1<0){
                    A[++cnt] = s.substring(i);
                }
                else{
                    A[++cnt] = s.substring(i,j+1 );
                }
                i = j;
            }
        }
    }

    public static void solve()
    {
        int len = 0;
        for(int i=1;i<=cnt;i++)
        {
            int l = 0,r = len;
            while(l<r)
            {
                int mid = l+r+1>>1;
                if(A[q[mid]].compareTo(A[i])<0) l = mid;
                else r = mid-1;
            }
            q[r+1] = i;
            pre[i] = q[r];
            len = Math.max(r+1,len);
        }
        int idx = q[len];
        dfs(idx);
        System.out.println(ans);
    }


    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);//WoAiLanQiaoBei
        s = sc.nextLine();
        init();
        solve();
    }
}
```

## è¯•é¢˜Gï¼šç”»å»Š

### ğŸ‘€é—®é¢˜æè¿°

å°è“åŠäº†ä¸€ä¸ªç”»å±•ï¼Œåœ¨ä¸€ä¸ªç”»å»Šå·¦å³ä¸¤è¾¹é™ˆåˆ—äº†ä»–è‡ªå·±çš„ä½œå“ã€‚ã€‚ã€‚

![image-20220508175115961](imgs.assets/image-20220508175115961.png)

![image-20220508175130016](imgs.assets/image-20220508175130016.png)

### âœï¸æ€è·¯è§£æ

æœ¬é¢˜æ˜¯ä¸€ä¸ªdpçš„é¢˜ç›®,æ€è·¯å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ªä¸‰ç»´çš„æ•°ç»„ï¼Œè®°å½•çŠ¶æ€

$dp[i][j]$è¡¨ç¤ºå¤„ç†å®Œå·¦è¾¹ç¬¬1å¹…ç”»å’Œå³è¾¹ç¬¬jå¹…ç”»æ‰€èµ°çš„æœ€å°è·¯ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬æ— æ³•çŸ¥é“ç°åœ¨åˆ°åº•æ˜¯åœ¨æ˜¯åœ¨å·¦è¾¹è¿˜æ˜¯åœ¨å³è¾¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¢åŠ ä¸€ç»´æ•°ç»„ä»£è¡¨ç°åœ¨ç°åœ¨åˆ°è¾¾çš„æ˜¯å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œç”¨0è¡¨ç¤ºåœ¨å·¦è¾¹ï¼Œç”¨1è¡¨ç¤ºåœ¨å³è¾¹ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®å®šçŠ¶æ€

å‡è®¾æˆ‘ä»¬ç°åœ¨éœ€è¦åˆ°è¾¾å·¦è¾¹é‚£ä¹ˆç°åœ¨æœ‰ä¸¤ç§æ–¹æ³•åˆ°è¾¾,ä¸€ç§æ˜¯å‰ä¸€ä¸ªçŠ¶æ€åœ¨å·¦è¾¹ï¼Œå¦ä¸€ç§æ˜¯å‰ä¸€ä¸ªçŠ¶æ€åœ¨å³è¾¹,é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹:

$dp[i][j][0]=Math.min(dp[i][j][0],Math.min(dp[i-1][j][0]+left[i]-left[i-1], dp[i-1][j][1]+js(left[i],right[j],l)));$

ä¸ºä½•æ˜¯i-1è€Œä¸èƒ½æ˜¯j-1çš„åŸå› æ˜¯å› ä¸ºï¼Œ0è¡¨ç¤ºç°åœ¨åˆ°è¾¾ç‚¹æ˜¯iä¹Ÿå°±æ˜¯è¯´åœ¨ä¹‹å‰çŠ¶æ€iè¿˜æ²¡æœ‰åˆ°è¾¾ï¼Œæ‰€ä»¥ç”¨i-1ï¼Œè€Œä¸æ˜¯j-1

åˆ°è¾¾ç‚¹åœ¨å³è¾¹åŒç†å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹

### âœ¨å‚è€ƒä»£ç 

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.io.StreamTokenizer;
import java.util.Arrays;

public class Mainç”»å»Š {

	public static void main(String[] args) throws IOException {
		StreamTokenizer x=new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in)));
		PrintWriter out=new PrintWriter(System.out);
		x.nextToken();
		int n=(int)x.nval;
		x.nextToken();
		int m=(int)x.nval;
		x.nextToken();
		int k=(int)x.nval;
		x.nextToken();
		int l=(int)x.nval;
		int INF = 0x3f3f3f3f;
		int left[]=new int[n+1];
		int right[]=new int[m+1];
		for(int i=1;i<=n;i++) {
			x.nextToken();
			left[i]=(int)x.nval;
		}
		for(int i=1;i<=m;i++) {
			x.nextToken();
			right[i]=(int)x.nval;
		}
		double dp[][][]=new double[n+1][m+1][2];
		double pd=(double)l/2;
		double a=js(0,left[1],pd);
		double b=js(0,right[1],pd);
		for(int i=0;i<=n;i++)//åˆå§‹åŒ–ï¼Œå…¨éƒ¨ç½®ä¸ºæœ€å¤§
			for(int j=0;j<=m;j++)
				Arrays.fill(dp[i][j], INF);
		dp[1][0][0]=a;
		dp[0][1][1]=b;
		/*for(int i=1;i<=n;i++) {
			dp[i][0][0]=a+left[i]-left[1];
			dp[i][0][1]=INF;
		}
		for(int i=1;i<=m;i++) {
			dp[0][i][0]=INF;
			dp[0][i][1]=b+right[i]-right[1];
		}*/
		for(int i=0;i<=n;i++) {
			for(int j=0;j<=m;j++) {
				if(i!=0)dp[i][j][0]=Math.min(dp[i][j][0],Math.min(dp[i-1][j][0]+left[i]-left[i-1], dp[i-1][j][1]+js(left[i],right[j],l)));
				if(j!=0)dp[i][j][1]=Math.min(dp[i][j][1],Math.min(dp[i][j-1][0]+js(left[i],right[j],l), dp[i][j-1][1]+right[j]-right[j-1]));
			}
		}
		out.printf("%.2f\n", Math.min(dp[n][m][0]+js(k,left[n],pd), dp[n][m][1]+js(k,right[m],pd)));//æœ€åè¿˜è¦åˆ°è¾¾ç”»å»Šä¸­é—´åˆ«å¿˜äº†
		out.flush();
	}
	public static double js(double a,double b,double h) {
		a=Math.abs(a-b);
		return Math.sqrt(a*a+h*h);
	}
}
```



## è¯•é¢˜ï¼šå¥‡å¶è¦†ç›–

### ğŸ‘€é—®é¢˜æè¿°

åœ¨å¹³é¢å†…æœ‰ä¸€äº›çŸ©å½¢ï¼Œå®ƒä»¬çš„ä¸¤æ¡è¾¹éƒ½å¹³è¡Œäºåæ ‡è½´ã€‚ã€‚ã€‚

![image-20220508175200705](imgs.assets/image-20220508175200705.png)

![image-20220508175211341](imgs.assets/image-20220508175211341.png)

### âœï¸æ€è·¯è§£æ

```java
//å¾…è¡¥å……
```

### âœ¨å‚è€ƒä»£ç 

```java
//å¾…è¡¥å……
```

## è¯•é¢˜Iï¼šè¡¥ç»™

### ğŸ‘€é—®é¢˜æè¿°

å°è“æ˜¯ä¸€ä¸ªç›´å‡æœºé©¾é©¶å‘˜ï¼Œä»–è´Ÿè´£ç»™ã€‚ã€‚ã€‚

![image-20220508175226327](imgs.assets/image-20220508175226327.png)

![image-20220508175238912](imgs.assets/image-20220508175238912.png)

### âœï¸æ€è·¯è§£æ

**çŠ¶å‹DP + æœ€çŸ­è·¯å¾„ï¼š**

`w[i][j]`ï¼šä»æ‘åº„ `i` åˆ°æ‘åº„ `j` ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼›
`f[i][j]`ï¼šä»æ‘åº„ `0` èµ°åˆ°æ‘åº„ `j` ï¼Œä¸”ç»è¿‡ç»è¿‡æ‘åº„çš„çŠ¶æ€ä¸º `i` çš„æœ€å°é£è¡Œè·ç¦»ï¼ˆå°† 1 æ˜ å°„æˆ 0ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ï¼›

### âœ¨å‚è€ƒä»£ç 

```java
import javafx.util.Pair;

import java.math.BigDecimal;
import java.text.DecimalFormat;
import java.util.Scanner;

class Node{
    int first;
    int second;
}

class Solution{
    int n = 200;
    int INF = 100000000;
    Node[] p = new Node[n];
   double[][] w = new double[n][n];
   double[][] f = new double[n][n];

    public Solution() {
        for(int i=0;i<n;i++){
            p[i] = new Node();
        }
    }

    double get_distance(int i, int j) {

        int x = p[i].first - p[j].first;
        int y = p[i].second - p[j].second;
        return Math.sqrt(x * x + y * y);
    }

    void solve(){
        Scanner sc = new Scanner(System.in);
        int n,d;
        n = sc.nextInt();
        d = sc.nextInt();
        for (int i = 0; i < n; i++) {
            int first = sc.nextInt();
            int second = sc.nextInt();
            p[i].first = first;
            p[i].second = second;
        }

        for (int i = 0; i < n; i ++)
            for (int j = i + 1; j < n; j ++)
            {
                w[i][j] = w[j][i] = get_distance(i, j);
                if(w[i][j] > d) {
                    w[i][j] = w[j][i] = INF;
                }
            }

        for (int k = 0; k < n; k ++){
            for (int i = 0; i < n; i ++){
                for (int j = 0; j < n; j ++){
                    w[i][j] = Math.min(w[i][j], w[i][k] + w[k][j]);
                }
            }

        }


        for (int i = 0; i < 1 << n; i ++){
            for (int j = 0; j < n; j ++){
                f[i][j] = INF;
            }
        }

        f[1][0] = 0;
        for (int i = 0; i < 1 << n; i ++){
            for (int j = 0; j < n; j ++){
                if((i >> j & 1) !=0){
                    for (int k = 0; k < n; k ++){
                        if(((i - (1 << j)) >> k & 1) != 0){
                            f[i][j] = Math.min(f[i][j], f[i - (1 << j)][k] + w[k][j]);
                        }
                    }

                }

            }

        }


        double ans = INF;
        for (int i = 1; i < n; i ++){
            ans = Math.min(ans, f[(1 << n) - 1][i] + w[i][0]);
        }

        DecimalFormat df = new DecimalFormat("0.00");

        System.out.println(df.format((1.0*(ans * 100)/100) ));
        
    }


}

public class Main {


    public static void main(String[] args) {
        Solution solution = new Solution();
        solution.solve();
    }
}
```

## è¯•é¢˜Jï¼šè“è·³è·³

### ğŸ‘€é—®é¢˜æè¿°

å°è“åªåšäº†ä¸€ä¸ªæœºå™¨äººï¼Œå–åä¸ºè“è·³è·³ã€‚ã€‚ã€‚

![image-20220508175258981](imgs.assets/image-20220508175258981.png)

![image-20220508175310434](imgs.assets/image-20220508175310434.png)

### âœï¸æ€è·¯è§£æ

åŠ¨æ€è§„åˆ’+å¾ªç¯æ•°ç»„

### âœ¨å‚è€ƒä»£ç 

```java
import java.util.Scanner;

public class Main {
	static int len;
	static int[][] arr;
	static int k;
	static int p;

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		k = sc.nextInt();
		p = sc.nextInt();
		long L = sc.nextLong();
		sc.close();
		// åˆ›å»ºä¸€ä¸ªåŒå±‚çš„å¾ªç¯æ•°ç»„ï¼Œ0å±‚å­˜æ²¡è·³åˆ°på‡ æ¬¡çš„æ–¹å¼ä¸ªæ•°ï¼Œ1å±‚å­˜è·³è‡³å°‘pæ¬¡çš„æ–¹å¼ä¸ªæ•°
		len = k + 1;
		arr = new int[len][2];
		int i;
		arr[0][1] = arr[0][0] = 1;
		for (i = 1; L-- > 0; i = (i + 1) % len) {
			int sum = 0;
			for (int j = 1; j < p; j++) {
				// è·³pæ¬¡ä»¥å†…ç´¯åŠ çš„æ˜¯ä¹‹å‰è·³è‡³å°‘pæ¬¡çš„æ–¹å¼ä¸ªæ•°ã€‚
				sum = (sum + arr[(len + i - j) % len][1]) % 20201114;
			}
			arr[i][0] = sum;
			for (int j = p; j <= k; j++) {
				// è·³è‡³å°‘pæ¬¡æ—¶ç´¯åŠ çš„æ˜¯ä¹‹å‰è·³pæ¬¡ä»¥å†…çš„æ–¹å¼ä¸ªæ•°ã€‚
				sum = (sum + arr[(len + i - j) % len][0]) % 20201114;
			}
			arr[i][1] = sum;
		}
		// forå¾ªç¯å¤šç§»åŠ¨äº†ä¸€æ¬¡iï¼Œè¿™é‡ŒæŠŠiç§»å›æ¥ã€‚
		i = (len + i - 1) % len;
		System.out.println(arr[i][1]);
	}
}
```



